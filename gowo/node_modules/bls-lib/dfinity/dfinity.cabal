name:          dfinity
version:       0.0.0
synopsis:      A general purpose computing platform. 
license:       GPL-3
license-file:  LICENSE
copyright:     2017 DFINITY Stiftung
author:        DFINITY Research <team@dfinity.org>
maintainer:    DFINITY Research <team@dfinity.org>
stability:     Experimental
category:      Blockchain
homepage:      https://github.com/dfinity/dfinity
bug-reports:   https://github.com/dfinity/dfinity/issues
build-type:    Simple
cabal-version: >=1.10

data-files:
    src/javascript/bin/echo
    src/javascript/index.js

executable dfinity
  build-depends:
    RFC1751,
    aeson,
    async,
    attoparsec,
    attoparsec-binary,
    base,
    base16-bytestring,
    base64-bytestring,
    binary,
    bls,
    bytestring,
    cmdargs,
    conduit,
    consensus,
    containers,
    cryptohash-sha256,
    data-default-class,
    deepseq,
    directory,
    entropy,
    exceptions,
    filepath,
    hashable,
    hashtables,
    hriemann,
    http-conduit,
    http-types,
    kademlia,
    leveldb-haskell,
    lrucaching,
    merkle-tree,
    monad-control,
    mtl,
    mwc-random,
    network,
    old-locale,
    process,
    random,
    random-shuffle,
    resourcet,
    scotty,
    secp256k1,
    serialise,
    split,
    stm,
    stm-conduit,
    text,
    time-exts,
    tinylog,
    tls,
    transformers,
    transformers-base,
    vector,
    wai,
    wai-extra,
    warp,
    zeromq4-haskell
  cc-options:
    -DDEBUG
  default-extensions:
    BangPatterns
    DataKinds
    DeriveDataTypeable
    DeriveGeneric
    FlexibleContexts
    FlexibleInstances
    GeneralizedNewtypeDeriving
    InterruptibleFFI
    LambdaCase
    MagicHash
    MultiParamTypeClasses
    MultiWayIf
    OverloadedStrings
    PartialTypeSignatures
    RankNTypes
    RecordWildCards
    StandaloneDeriving
    TupleSections
    TypeFamilies
    UndecidableInstances
    ViewPatterns
  default-language:
    Haskell2010
  extra-libraries:
  ghc-options:
    -O2
    -Wall
    -fno-warn-name-shadowing
    -fno-warn-orphans
    -fno-warn-partial-type-signatures
    -fno-warn-unused-top-binds
    -threaded
    -rtsopts
  hs-source-dirs:
    src/haskell
  main-is:
    Main.hs
  other-modules:
    Paths_dfinity
    Network.DFINITY.Artifact
    Network.DFINITY.Bootstrap
    Network.DFINITY.Conduit
    Network.DFINITY.Config
    Network.DFINITY.Database
    Network.DFINITY.Engine
    Network.DFINITY.Log
    Network.DFINITY.Message
    Network.DFINITY.Metric
    Network.DFINITY.Monitor
    Network.DFINITY.Orphan
    Network.DFINITY.P2P
    Network.DFINITY.P2P.AddressBook
    Network.DFINITY.P2P.Connection
    Network.DFINITY.P2P.Crypto
    Network.DFINITY.P2P.Dispatcher
    Network.DFINITY.P2P.Interface
    Network.DFINITY.P2P.Kautz
    Network.DFINITY.P2P.Server
    Network.DFINITY.P2P.Sort
    Network.DFINITY.P2P.TLS
    Network.DFINITY.P2P.Types
    Network.DFINITY.P2P.Utilities
    Network.DFINITY.Process
    Network.DFINITY.Register
    Network.DFINITY.Security
    Network.DFINITY.Seed
    Network.DFINITY.Transaction
    Network.DFINITY.UI

test-suite javascript-integration-test
  build-depends:
    HUnit,
    base,
    bytestring,
    directory,
    process,
    resourcet,
    stm,
    zeromq4-haskell
  default-extensions:
    OverloadedStrings
    RecordWildCards
  default-language:
    Haskell2010
  ghc-options:
    -O2
    -Wall
    -threaded
  hs-source-dirs:
    src/haskell,
    test
  main-is:
    JavaScript.hs
  other-modules:
    Paths_dfinity
    Network.DFINITY.Process
  type:
    exitcode-stdio-1.0
