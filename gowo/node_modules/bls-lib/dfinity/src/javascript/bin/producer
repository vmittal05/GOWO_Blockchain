#!/usr/bin/env node
const zmq = require('zeromq')
const sock = zmq.socket('pair')

sock.bindSync('tcp://127.0.0.1:3000')
console.log('Publisher bound to port 3000')

sock.on('message', (message) => {
  console.log(`received a message: ${message}`)
})

setInterval(function () {
  console.log('sending a multipart message envelope')
  sock.send(['test', 'hello worlds ::D'])
}, 500)
